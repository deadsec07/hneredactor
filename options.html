<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>HNE Redactor Pro – Options</title>
  <style>
    body{font-family:system-ui,Arial;margin:20px;color:#0b1118}
    label{display:block;margin:10px 0 4px}
    input[type=text]{width:600px;max-width:100%;padding:8px}
    .hint{color:#555}
    button{margin-top:14px;padding:8px 12px}
    code{background:#f5f5f5;padding:2px 6px;border-radius:6px}
  </style>
</head>
<body>
  <h2>HNE Redactor Pro – Upload Settings</h2>
  <p>Configure one or both. Buttons appear enabled only when filled.</p>

  <label>Imgur Client-ID (anonymous uploads)</label>
  <input id="imgur" type="text" placeholder="e.g. b3c123abc456def"/>
  <div class="hint">Get one in Imgur settings. Extension requests <code>https://api.imgur.com/*</code> only when you click Upload.</div>

  <label style="margin-top:18px">S3 Pre-signed Endpoint (returns JSON: {"putUrl":"...","getUrl":"..."})</label>
  <input id="s3ep" type="text" placeholder="https://your-endpoint.example.com/new-presign"/>
  <div class="hint">Your endpoint should generate a one-time pre-signed PUT URL + the final public GET URL.</div>

  <button id="save">Save</button>

  <script>
  const imgur = document.getElementById('imgur');
  const s3ep = document.getElementById('s3ep');
  const save = document.getElementById('save');

  chrome.storage.sync.get(['IMGUR_CLIENT_ID','S3_PRESIGN_ENDPOINT'], v=>{
    imgur.value = v.IMGUR_CLIENT_ID || '';
    s3ep.value = v.S3_PRESIGN_ENDPOINT || '';
  });

  save.onclick = () => {
    chrome.storage.sync.set({
      IMGUR_CLIENT_ID: imgur.value.trim(),
      S3_PRESIGN_ENDPOINT: s3ep.value.trim()
    }, () => alert('Saved.'));
  };
  </script>
</body>
</html>
